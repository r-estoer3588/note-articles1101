# ホゲーアルゴリズム LINE Bot メニュー版

**コマンド不要！ボタンをポチポチするだけで使える**

## 📱 使い方（超簡単）

### ステップ1: メニューを開く

LINEでBotを開くと、自動でメニューが表示されます。

```
┌─────────────────────┐
│  🐶 ホゲーBot       │
├─────────────────────┤
│                     │
│  何をしますか？      │
│                     │
│ [📝 投稿生成]       │
│ [📖 3部作生成]      │
│ [📚 今日のテーマ]   │
│ [🎓 学習実行]       │
│ [📊 状態確認]       │
│                     │
└─────────────────────┘
```

### ステップ2: ボタンを選択

#### パターンA: 投稿生成

1. **[📝 投稿生成]** をタップ
2. 件数選択が表示される

```
┌─────────────────────┐
│ 何件生成しますか？   │
├─────────────────────┤
│ [3件]  [5件]  [10件]│
└─────────────────────┘
```

3. **[5件]** をタップ
4. テーマ選択が表示される

```
┌─────────────────────┐
│ テーマを選んでね      │
├─────────────────────┤
│ [💰 貧乏脱出]       │
│ [🎰 ギャンブル]     │
│ [💼 副業]           │
│ [🏢 ブラック企業]   │
│ [💸 無駄遣い]       │
│ [📱 SNS依存]        │
│ [😴 人間関係]       │
│ [⏰ 時間術]         │
│ [✏️ 自由入力]       │
└─────────────────────┘
```

5. **[💼 副業]** をタップ
6. 自動生成＆結果表示

```
┌─────────────────────┐
│ 🐶 投稿1/5          │
├─────────────────────┤
│                     │
│ ホゲーっと生きてる。 │
│ 気づいたら何も...   │
│                     │
├─────────────────────┤
│ [🚀 X投稿]          │
│ [💾 保存]           │
│ [➡️ 次へ]          │
│ [🗑️ 破棄]           │
└─────────────────────┘
```

#### パターンB: 3部作生成

1. **[📖 3部作生成]** をタップ
2. テーマ選択（同上）
3. 3部作が順番に表示される

```
┌─────────────────────┐
│ 🐶 ① 起（共感）     │
├─────────────────────┤
│ 夜中2時。           │
│ 冷めたカップ麺...   │
├─────────────────────┤
│ [🚀 X投稿]          │
│ [💾 保存]           │
│ [➡️ 次へ(②転)]    │
└─────────────────────┘
```

#### パターンC: 今日のテーマ

1. **[📚 今日のテーマ]** をタップ
2. 件数選択（同上）
3. 自動で曜日別テーマが適用される

```
月曜 → ギャンブル依存
火曜 → ブラック企業
水曜 → 無駄遣い
木曜 → SNS依存
金曜 → 疲労
土曜 → 人間関係
日曜 → 時間の使い方
```

#### パターンD: 学習実行

1. **[🎓 学習実行]** をタップ
2. 確認メッセージ

```
┌─────────────────────┐
│ CSV学習を実行します  │
│                     │
│ 現在のデータ:        │
│ - my_posts: 50件    │
│ - bench_posts: 30件 │
│                     │
│ [✅ 実行する]       │
│ [❌ キャンセル]     │
└─────────────────────┘
```

3. **[✅ 実行する]** をタップ
4. 学習完了通知

## 🎨 メニューの種類

### リッチメニュー（常時表示）

LINEのトーク画面下部に常時表示：

```
┌──────┬──────┬──────┐
│ 投稿 │ 3部作│ 今日 │
│ 生成 │ 生成 │テーマ│
├──────┼──────┼──────┤
│ 学習 │ 状態 │ヘルプ│
│ 実行 │ 確認 │      │
└──────┴──────┴──────┘
```

### クイックリプライ（都度表示）

選択肢が表示される：

```
件数選択: [3件] [5件] [10件]
テーマ: [💰貧乏脱出] [💼副業] ...
アクション: [投稿] [保存] [次へ] [破棄]
```

### カルーセル（スワイプ可能）

複数投稿をスワイプで確認：

```
┌─────┐  ┌─────┐  ┌─────┐
│投稿1│→ │投稿2│→ │投稿3│
│     │  │     │  │     │
│[投稿]│  │[投稿]│  │[投稿]│
└─────┘  └─────┘  └─────┘
```

## 📊 フロー図

```
[メニュー] → [投稿生成] → [件数選択] → [テーマ選択] → [生成] → [結果]
                                                           ↓
                                                    [投稿/保存/次へ]
```

## 🎯 完成イメージ

### 朝の使い方

1. LINEを開く
2. リッチメニューから **[今日テーマ]** タップ
3. **[3件]** タップ
4. 自動生成（月曜ならギャンブルテーマ）
5. 気に入った投稿を **[投稿]** タップ

**所要時間: 10秒**

### 昼の使い方

1. 前回の続きを見たい
2. LINEの履歴から確認
3. **[次へ]** ボタンで順番に確認
4. **[保存]** で後で投稿予約

### 夜の使い方

1. リッチメニューから **[学習]** タップ
2. **[実行]** タップ
3. 数秒で完了
4. 明日の生成精度UP

## 🔧 実装内容

n8nワークフローに以下を追加：

1. **リッチメニュー登録API**
2. **クイックリプライ生成**
3. **状態管理（会話フロー）**
4. **カルーセル表示**

詳細は次のファイルで説明します。

---

**もうコマンドは不要。ボタンをポチポチするだけ。**
