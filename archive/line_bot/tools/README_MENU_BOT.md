# 🐶 ホゲーアルゴリズム LINE Bot メニュー版

**完全ボタン操作のLINE Bot - 実装完了**

作成日: 2025年11月8日

---

## 📦 成果物一覧

### 🎯 メインファイル

| ファイル名 | 説明 | 用途 |
|-----------|------|------|
| **QUICK_START_GUIDE.md** | 📘 実践セットアップガイド | **←ここから始める** |
| **hogey_algorithm.py** | 🐍 コアアルゴリズム | 投稿生成エンジン |
| **n8n_workflow_menu_complete.json** | ⚙️ n8nワークフロー | Bot自動化設定 |
| **line_bot_helper.py** | 🛠️ ヘルパー関数 | メッセージ生成補助 |

### 📚 ドキュメント

| ファイル名 | 内容 |
|-----------|------|
| **LINE_MENU_GUIDE.md** | メニュー版のコンセプト説明 |
| **LINE_MENU_IMPLEMENTATION.md** | リッチメニュー・クイックリプライ実装詳細 |
| **SETUP_CHECKLIST.md** | 30-40分チェックリスト形式 |
| **HOGEY_ALGORITHM_README.md** | アルゴリズム仕様書 |
| **N8N_WORKFLOW_GUIDE.md** | n8n統合ガイド |
| **SMARTPHONE_GUIDE.md** | スマホ運用ガイド |
| **SMARTPHONE_SETUP.md** | スマホセットアップ |

### 🎨 リソース

| ファイル名 | 説明 |
|-----------|------|
| **rich_menu_template.html** | リッチメニュー画像生成用HTML |
| **google_sheets_template.csv** | Sheets用ヘッダーテンプレート |
| **env_template.txt** | 環境変数テンプレート |

### 📊 サンプルデータ

| ファイル名 | 説明 |
|-----------|------|
| **my_posts_sample.csv** | 自分の投稿10件サンプル |
| **bench_posts_sample.csv** | ベンチマーク15件サンプル |

---

## 🚀 クイックスタート

### 1️⃣ 最短ルート（40-50分）

```powershell
# 1. ディレクトリ移動
cd c:\Repos\note-articles\tools

# 2. ガイドを開く
start QUICK_START_GUIDE.md

# 3. ガイドに従ってセットアップ
```

### 2️⃣ 動作確認（5分）

```powershell
# Pythonスクリプト確認
python hogey_algorithm.py --count 3 --theme "テスト" --output test.csv

# n8n起動
n8n start

# ブラウザで http://localhost:5678 を開く
```

### 3️⃣ 完成イメージ

```
[スマホ画面]
┌────────────────┐
│   LINEトーク   │
├────────────────┤
│                │
│  投稿表示中... │
│                │
├────────────────┤
│ ┌─────┬─────┐│
│ │📝   │📖   ││  ← リッチメニュー
│ │投稿 │3部作││     （常時表示）
│ ├─────┼─────┤│
│ │📚   │🎓   ││
│ │今日 │学習 ││
│ ├─────┼─────┤│
│ │📊   │❓   ││
│ │状態 │ヘルプ││
│ └─────┴─────┘│
└────────────────┘

↓ タップするだけ

何件生成しますか？
[3件] [5件] [10件] [20件]  ← クイックリプライ

↓ タップ

テーマを選んでください
[💰貧乏脱出] [💼副業] [🏢ブラック]...

↓ タップ

⏳ 生成中...

↓ 完了

🐶 投稿1/5
━█░░░░░░░░

ホゲーっと生きてる。
気づいたら何も変わってない。
...

[🚀 X投稿] [💾 保存] [➡️ 次へ] [🗑️ 破棄]
```

---

## ✨ 特徴

### ✅ 実現できること

- **コマンド暗記不要** - 全てボタン操作
- **スマホ完結** - 平日でもホゲホゲ生成
- **リッチメニュー** - 画面下部に常時表示
- **クイックリプライ** - タップで選択
- **状態管理** - 会話の継続
- **プログレスバー** - 視覚的フィードバック
- **エラーハンドリング** - 親切なメッセージ

### 🎯 対応フロー

1. **投稿生成** - 件数・テーマ選択 → バズ投稿生成
2. **3部作生成** - テーマ選択 → ストーリー投稿3本
3. **今日のテーマ** - 曜日別自動テーマ → ワンタップ生成
4. **学習実行** - CSV学習の実行
5. **状態確認** - 現在の設定確認
6. **ヘルプ** - 使い方表示

---

## 📋 必要なもの

### 必須

- [x] Python 3.8以上
- [x] pandas (`pip install pandas`)
- [x] LINEアカウント
- [x] Googleアカウント
- [x] n8n

### オプション（後で追加可能）

- [ ] X (Twitter) API（投稿機能用）
- [ ] VPS（24時間稼働用）
- [ ] ドメイン（Webhook URL用）

---

## 🔧 セットアップ手順（概要）

### PHASE 1: LINE Developers設定（15分）
- プロバイダー作成
- Messaging APIチャネル作成
- チャネルアクセストークン取得
- Webhook設定

### PHASE 2: Google Sheets設定（10分）
- スプレッドシート作成
- サービスアカウント作成
- 共有設定
- API有効化

### PHASE 3: リッチメニュー画像作成（10分）
- HTMLから画像生成
- LINE Developersに登録
- アクション設定
- 公開

### PHASE 4: n8n設定（15分）
- n8nインストール
- ワークフローインポート
- 認証情報設定
- Webhook URL設定
- 有効化

### PHASE 5: 動作確認（10分）
- Bot友だち追加
- リッチメニュー確認
- フロー動作テスト
- エラーハンドリング確認

**合計: 40-50分**

---

## 🎓 アーキテクチャ

```
[LINEアプリ（スマホ）]
        ↓
   リッチメニュータップ
        ↓
[LINE Messaging API]
        ↓
   Webhook送信
        ↓
[n8nワークフロー]
   ├→ 状態取得（Google Sheets）
   ├→ コマンド解析
   ├→ Python実行（hogey_algorithm.py）
   ├→ 投稿データ生成
   ├→ メッセージ作成（line_bot_helper.py）
   ├→ 状態保存（Google Sheets）
   └→ LINE返信
        ↓
[LINEアプリ]
   クイックリプライボタン表示
        ↓
   ユーザータップ
        ↓
   （ループ）
```

---

## 📊 ディレクトリ構造

```
c:\Repos\note-articles\tools\
├── hogey_algorithm.py              # コアエンジン ⭐
├── line_bot_helper.py              # ヘルパー関数 🆕
├── n8n_workflow_menu_complete.json # n8nワークフロー 🆕
├── rich_menu_template.html         # リッチメニュー画像生成 🆕
├── google_sheets_template.csv      # Sheetsテンプレート 🆕
├── env_template.txt                # 環境変数テンプレート 🆕
│
├── QUICK_START_GUIDE.md            # 実践ガイド 📘 ←START
├── LINE_MENU_GUIDE.md              # コンセプト説明 🆕
├── LINE_MENU_IMPLEMENTATION.md     # 実装詳細 🆕
├── SETUP_CHECKLIST.md              # チェックリスト 🆕
├── HOGEY_ALGORITHM_README.md       # 仕様書
├── N8N_WORKFLOW_GUIDE.md           # n8nガイド
├── SMARTPHONE_GUIDE.md             # スマホ運用
├── SMARTPHONE_SETUP.md             # スマホセット��ップ
│
├── my_posts_sample.csv             # サンプルデータ
├── bench_posts_sample.csv          # サンプルデータ
└── (その他生成ファイル)
```

---

## 🆘 トラブルシューティング

### よくある問題

| 問題 | 原因 | 解決方法 |
|------|------|----------|
| ボタンが表示されない | リッチメニュー未公開 | LINE Developersで公開 |
| 生成されない | n8n未起動 | `n8n start` で起動 |
| Webhook URLエラー | ローカルホスト | ngrokを使用 |
| 状態がリセットされる | Sheets権限エラー | サービスアカウントを共有 |
| タイムアウト | 処理時間超過 | タイムアウト設定延長 |

詳細は **QUICK_START_GUIDE.md** 参照。

---

## 🔮 今後の拡張（オプション）

### 近日実装予定

- [ ] X (Twitter) 自動投稿機能
- [ ] 投稿予約機能
- [ ] A/Bテスト機能
- [ ] アナリティクス表示
- [ ] カスタムテーマ登録
- [ ] 画像生成連携

### アイデア募集中

- ユーザーフィードバック機能
- 競合分析機能
- ハッシュタグ推薦
- 投稿時間最適化

---

## 📞 サポート

質問・バグ報告は以下へ:

- **ドキュメント**: 各MDファイル参照
- **Issues**: GitHubリポジトリ
- **Chat**: プロジェクトチャット

---

## 📄 ライセンス

このプロジェクトはMITライセンスです。

---

## 🎉 完成までの流れ

```
1. ChatGPT会話から構想 ✅
2. コアアルゴリズム実装 ✅
3. CSV学習機能 ✅
4. バズ投稿生成 ✅
5. 3部作生成 ✅
6. スマホ対応設計 ✅
7. n8n統合 ✅
8. メニュー版設計 ✅ ← 今ココ！
9. 実装完了 🎊
```

---

## 🚀 次のアクション

1. **QUICK_START_GUIDE.md** を開く
2. PHASE 1から順番に実施
3. 40-50分でセットアップ完了
4. スマホでホゲホゲ生成開始！

---

**作成日**: 2025年11月8日  
**バージョン**: 1.0  
**ステータス**: 実装完了 🎉

**コマンド不要。ボタンだけで完結。平日でもスマホでホゲホゲ。**
