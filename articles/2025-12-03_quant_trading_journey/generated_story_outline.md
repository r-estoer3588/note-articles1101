# 開発ストーリー記事 - 自動生成骨組み

> **生成元**: Git Story Analyzer (MVP版)
> **生成日**: 2025年12月3日
> **データソース**: 691コミット、5ヶ月の開発履歴

---

## タイトル案（3パターン）

### 1. 感情訴求型
**「691回の失敗と学びで作った、感情に左右されない自動売買システム」**

### 2. 技術成長型  
**「ゼロから本番運用まで：7つのトレーディングシステムの設計と進化の記録」**

### 3. 数字訴求型
**「3.5ヶ月、691コミット、23万行のコード。米国株自動売買システムができるまで」**

---

## 記事構成案

### 序章：なぜこの開発を始めたのか（200-300字）

毎日、朝起きてチャートを開く。仕事中も株価が気になって集中できない。夜は「今日の損益」に一喜一憂して眠れない――。

裁量トレードの日々は、完全に感情との戦いでした。勝っても負けても、自分のルールを守れない。データを見ても、「今回は違う」と自分に言い訳してしまう。

「このまま時間と精神を削られ続けるのは嫌だ」

そう思った2025年8月、私は決断しました。**「感情を排除した、完全自動化のトレーディングシステムを作る」**と。

プログラミング経験はそれなりにあったけど、金融システムは初めて。データ取得もバックテストも、全部ゼロから。でも、「自分の手でルールを作り、それを機械に守らせる」という明確な目標があれば、きっとできる。

8月16日、最初のコミットを打った瞬間から、この3.5ヶ月の旅が始まりました。

---

### フェーズ1：8月（68 commits）- カオスから形へ

**見出し：「とにかく動くものを作る」という泥臭い2週間**

#### 主な取り組み

**8/16-17：System1からSystem7まで、一気に形にする**
- 最初の2日間で、7つのトレーディングシステムの骨格を実装
- コミット「0817-6system7まで安定板」で7,686行追加、3,373行削除
- この時点では「動けばいい」レベル。テストもドキュメントもほぼゼロ

**8/20：リファクタリング前の混沌**
- コミット「0820-4 system1リファクタリング前」で4万行削除
- 実は、最初は1つのファイルに全部詰め込んでいた
- 「これはさすがにメンテできない」と気づいて、構造を全部作り直す決断

**8/24：Gitの地獄から学ぶ**
- データキャッシュ（4.1MB）をうっかりコミットしてしまい、リポジトリが肥大化
- 「Stop tracking data_cache and results_csv」で400万行削除
- .gitignoreの重要性を骨身に染みて理解した日

#### 学び

- **完璧を求めず、まず動かす**：7システムを2日で形にできたのは、「最低限動けばいい」と割り切ったから
- **早めのリファクタリング**：4万行削除は痛かったが、後から構造を直すより早い段階で決断して正解
- **Gitは味方にも敵にもなる**：データファイルをコミットしない基本を、実際に痛い目を見て学んだ

---

### フェーズ2：9月（442 commits）- 爆発的成長期

**見出し：「趣味のスクリプト」から「運用できるシステム」への大転換**

#### 主な取り組み

**9/2-7：自動化とCI/CDの導入**
- スケジューラー統合（9/2）：毎日自動でデータ更新とシグナル生成
- テストカバレッジ導入（9/3-4）：System1-7の全バックテストにテストを追加
- 通知システム（9/5）：Slack/Discord両対応で、トレード結果を自動通知

**9月中旬：キャッシュ設計の地獄**
- データ取得が毎回遅すぎて、バックテストに30分以上かかる
- 3層キャッシュ（full_backup → base → rolling）を設計
- 何度も壊れて、何度も作り直した。コミットログが「cache_fix」だらけに

**9月末：構造の全面再設計**
- 「Reorganize project structure (Phase 1/2)」で、フォルダ構成を完全に作り直し
- core / strategies / apps / common という明確な階層を確立
- この決断で、後の機能追加がスムーズになった

#### 学び

- **1ヶ月で442コミット = 1日平均14.7コミット**：集中して作業すると、これだけ進む
- **キャッシュ設計は甘く見てはいけない**：データアクセスパターンを理解せずに作ると、何度も作り直すことになる
- **早めの構造化が後の生産性を決める**：9月末の再設計がなければ、10月以降の開発は不可能だった

---

### フェーズ3：10月（144 commits）- 品質と安定性の追求

**見出し：「動く」から「信頼できる」への進化**

#### 主な取り組み

**10月前半：診断機能の追加**
- 各システムで「なぜこの銘柄が選ばれたか」「どこで落ちたか」を可視化
- diagnostics APIを全System1-7で統一
- これがあるおかげで、ロジックのデバッグ時間が10分の1に

**10月中旬：パフォーマンス最適化**
- 並列処理導入でバックテスト時間が30分 → 3分に短縮（10倍高速化）
- データロード時間も120倍改善
- CPUコア自動スケーリング（70%利用率、上限8）を実装

**10月末：テストの自動化**
- pre-commitフック導入で、コミット前に自動フォーマット
- CI/CDでisort/ruff/blackが自動チェック
- 「テストが通らなければコミットできない」文化を確立

#### 学び

- **診断機能は後付けじゃなく最初から**：デバッグ時間が劇的に減った。もっと早く入れるべきだった
- **パフォーマンスは体感が全て**：30分待ちから3分になった瞬間、開発の楽しさが10倍になった
- **品質ゲートは自動化しないと守れない**：人間は怠けるので、機械に強制させる仕組みが必須

---

### フェーズ4：11月-12月（37 commits）- 運用と継続改善

**見出し：「作る」から「育てる」フェーズへ**

#### 主な取り組み

**11月：本番運用開始**
- 日次スケジューラーが安定稼働
- 毎朝、自動でシグナルが生成され、Slackに通知される
- 「朝起きて確認するだけ」の世界が実現

**コミット頻度の激減**
- 11月: 35 commits（9月の1/12以下）
- これは「作る」フェーズが終わり、「運用」フェーズに入った証拠
- 大きな変更ではなく、細かい調整と監視が中心に

**継続的な改善**
- 再計算ロックのタイムスタンプ管理（定期的な更新）
- システムマッピングの改善
- UIの微調整

#### 学び

- **コミット数の減少は成功の証**：最初は不安だったが、「安定している」ということ
- **運用フェーズこそ価値がある**：作って終わりではなく、毎日動き続けることに意味がある
- **小さな改善の積み重ね**：大きな機能追加はないが、使い勝手が日々向上している

---

### 終章：今、そしてこれから（200-300字）

この3.5ヶ月で、私は「作る人」から「運用する人」に変わりました。

最初は「とにかく動くものを」という泥臭さ。中盤は「構造を整えないと破綻する」という焦り。後半は「品質を上げないと信頼できない」という執念。

そして今、毎朝Slackを開くだけで、7つのシステムが自動で銘柄を選び、エントリーシグナルを出してくれる。感情に左右されることも、チャートに張り付くこともない。

**691回のコミット、137回の修正、220回のリファクタリング**。この数字は、「一発で完璧なものは作れない」という当たり前の真実を物語っています。

でも、だからこそ面白い。今も毎週、小さな改善を続けています。それが、システムを「育てる」ということなんだと、ようやく分かってきました。

---

## 📊 補足データ（記事に盛り込める数字）

- **総コミット数**: 691
- **新機能追加**: 338回（全体の48.9%）
- **バグ修正**: 137回（19.8%）
- **リファクタリング**: 220回（31.8%）
- **純増コード行数**: 236,951行
- **最大変更**: 8月17日に7,686行追加（System7実装）
- **最も集中した月**: 9月（442コミット、1日平均14.7回）
- **最大削除**: 8月24日に414万行削除（Gitキャッシュ事故）

---

## 🎯 note記事化のポイント

### 使えるフック
1. 「毎日チャートを見る地獄」→「朝5分で完結する世界」への変化
2. 「4万行削除した日」の決断と学び
3. 「1日14コミット、1ヶ月442コミット」の集中開発期の裏側
4. 「コミット数が減った = 失敗」ではなく「安定の証」という気づき

### 差別化ポイント
- 具体的な数字（691コミット、23万行）
- 失敗の赤裸々な告白（Gitキャッシュ事故、4万行削除）
- フェーズごとの「学び」の抽出
- 「作る」だけでなく「運用」までカバー

### CTAアイデア
- 「あなたもGit履歴から自分のストーリーを作りませんか？」
- ツール配布（今回作ったMVP）を特典に
- 「開発の軌跡を可視化するツールを作りました（無料公開）」でX拡散

---

**次のアクション**: このアウトラインをベースに、感情と具体例を肉付けして本文執筆へ！
