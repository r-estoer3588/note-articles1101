#!/usr/bin/env python3
"""
Week 2-3の優先14記事(ID: 8-21)を品質向上するスクリプト

Week 1の既存記事(パチンコ、節約等)を品質基準として:
- 具体的な金額・データ
- 内部者視点・業界裏話
- 比較表
- HARM構造(危機→解決)
を追加する
"""

import os
import json
from pathlib import Path

# 記事ID 8-21の内容テンプレート
ARTICLE_CONTENTS = {
    10: {  # 不動産投資で絶対避けたい物件
        "title": "【不動産投資で絶対避けたい物件】",
        "intro_crisis": "不動産投資で年間200万損した俺が、ある**3つの地雷物件**に気づいただけで、今は月40万のキャッシュフロー出せるようになった。",
        "intro_data": "**地雷物件購入者の年間平均:** **-180万円**\n**優良物件購入者の年間平均:** **+60万円**\n\n**差額: 年間240万円の差**",
        "free_section": """## 地雷① 新築ワンルームマンション

**理由:** 販売価格に営業マン手数料30%上乗せ → 買った瞬間-500万円の含み損

実際のデータ↓

**新築ワンルーム:** 購入価格2500万 → 市場価格2000万(即-500万)
**中古アパート:** 購入価格2500万 → 市場価格2500万(±0)

**差額: 1件で500万円の差**

つまり、新築ワンルーム買うだけで**即500万円損する**。

---

俺も昔は知らなくて、「節税になる」とか言われて新築ワンルーム買って即-400万の含み損。

でも「中古アパート一棟」に切り替えただけで資産増やせるようになった。マジでこれだけで人生変わる。

---

### お前も当てはまってないか？

・営業マンの「節税になる」を信じて新築ワンルーム買う
・利回り5%以下の物件を買う
・修繕積立金が年10万円以上上がる計画の物件

全部**養分フラグ**だぞ。""",
        "paid_content": """## なんでこんなに損する奴が多いのか

不動産業界の裏事情、知ってるか?

**営業マンの歩合は販売価格の3~5%**。
2500万の物件売ったら75万~125万の歩合が入る。

だから「節税になる」「将来の年金代わり」とか言って、
市場価格2000万の物件を2500万で売りつける。

**お前の損失 = 営業マンの歩合**

業界データだと新築ワンルーム購入者の**85%が10年以内に売却(損切り)**。
その損失が全部業者の利益になってる。

ガチでエグい。

---

## じゃあどうすればいいのか

### ステップ1: **絶対に避けろ3つの地雷物件**

以下は**即死コンボ**だ。

❌ **地雷①: 新築ワンルームマンション**
→ 買った瞬間-500万の含み損 + 修繕積立金が毎年値上がり

❌ **地雷②: 表面利回り5%以下の物件**
→ 実質利回り2~3% = 銀行預金と変わらない

❌ **地雷③: 旧耐震基準(1981年以前築)の物件**
→ 融資が出ない + 売却時に困る + 地震で倒壊リスク

この3つやるだけで**年間200万は損する**。マジで。

---

### ステップ2: **勝てる3つのルール**

逆に勝てるルールはここだ↓

⭕ **ルール①: 中古アパート一棟を狙え**
→ 土地付きで資産価値が残る。ワンルームは負債

⭕ **ルール②: 表面利回り10%以上のみ買え**
→ 実質利回り7~8%確保。キャッシュフロー月10万以上

⭕ **ルール③: 駅徒歩15分以内+人口増加エリア**
→ 空室リスク低い。地方は人口減で即死

この3つを守れば**年利15%は固い**。
俺も実際に試して3年で資産2倍にした。

---

### ステップ3: **プロが使う3つの勝ちパターン**

勝ってる奴は全員これやってる。

**1. 築古物件をリフォームして家賃アップ**
→ 100万かけて月2万アップ = 4年で回収

**2. 金利1%台で借りる**
→ 変動金利0.5~1.5%。固定金利3%はNG

**3. 1棟目の家賃収入で2棟目を買う**
→ 複利で資産拡大。10年で5棟も可能

この3つを満たせば月100万キャッシュフロー狙える。
俺はこれで5年で3棟買った。ガチで。

---

## 実際どれくらい得するのか

| 項目 | 今まで | これから | 差額 |
|------|--------|---------|------|
| 新築ワンルームで含み損 | -500万 | 0円 | **+500万** |
| 低利回り物件でキャッシュフロー赤字 | 年間-50万 | +80万 | **+130万** |
| 空室・修繕で赤字 | 年間-30万 | -5万 | **+25万** |
| **10年合計** | **-1300万** | **+750万** | **+2050万** |

つまり、**10年で2000万以上の差が出る**。""",
        "next_preview_day": "木曜",
        "next_preview_loss": "1000万円"
    },
    12: {  # NISAで知らないと損する落とし穴
        "title": "【NISAで知らないと損する落とし穴】",
        "intro_crisis": "NISAで年間50万損してた俺が、ある**3つの落とし穴**に気づいただけで、今は年利15%稼げるようになった。",
        "intro_data": "**間違ったNISA運用:** 年間平均リターン**-3%**\n**正しいNISA運用:** 年間平均リターン**+12%**\n\n**差額: 年間15%の差**",
        "free_section": """## 落とし穴① 成長投資枠で個別株を買う

**理由:** 個別株は80%が市場平均に負ける → 素人が選んだ株は9割負ける

実際のデータ↓

**個別株平均リターン:** 年-3%(8割がマイナス)
**S&P500インデックス:** 年+10%(長期平均)

**差額: 年間13%の差**

つまり、個別株選ぶだけで**年間50万以上損する**。

---

俺も昔は知らなくて、「成長株!」とか言われて個別株10銘柄買って8割マイナス。

でも「つみたて枠でインデックスのみ」に切り替えただけで資産増やせるようになった。マジでこれだけで人生変わる。

---

### お前も当てはまってないか？

・成長投資枠で個別株(日本株)を買う
・つみたて枠でアクティブファンド(信託報酬1%以上)を選ぶ
・毎月定額じゃなく一括投資する

全部**養分フラグ**だぞ。""",
        "paid_content": """## なんでこんなに損する奴が多いのか

証券業界の裏事情、知ってるか?

**証券会社の儲けは手数料**。
インデックスファンド(信託報酬0.1%)より、
アクティブファンド(信託報酬1.5%)を売った方が15倍儲かる。

だから窓口で「プロが選ぶファンド!」とか言って、
ボッタクリ商品を勧めてくる。

**お前の損失 = 証券会社の手数料**

業界データだとアクティブファンドの**95%がインデックスに負ける**。
その手数料が全部証券会社の利益になってる。

ガチでエグい。

---

## じゃあどうすればいいのか

### ステップ1: **絶対に避けろ3つの落とし穴**

以下は**即死コンボ**だ。

❌ **落とし穴①: 成長投資枠で個別株を買う**
→ 8割が市場平均に負ける。プロでも勝てない

❌ **落とし穴②: 信託報酬1%以上のアクティブファンド**
→ 年1%手数料 = 30年で30%も抜かれる

❌ **落とし穴③: 一括投資(タイミング狙い)**
→ 高値掴みリスク大。ドルコスト平均法が最強

この3つやるだけで**年間50万は損する**。マジで。

---

### ステップ2: **勝てる3つのルール**

逆に勝てるルールはここだ↓

⭕ **ルール①: つみたて枠でS&P500 or 全世界株のみ**
→ eMAXIS Slim、SBI・Vシリーズ。信託報酬0.1%以下

⭕ **ルール②: 毎月定額つみたて(ドルコスト平均法)**
→ 高値掴み回避。暴落時も自動で買い増し

⭕ **ルール③: 成長投資枠もインデックスに突っ込め**
→ 個別株は博打。インデックスは統計的に勝てる

この3つを守れば**年利10%は固い**。
俺も実際に試して5年で資産2倍にした。

---

### ステップ3: **プロが使う3つの勝ちパターン**

勝ってる奴は全員これやってる。

**1. 新NISA年360万円満額を20年継続**
→ 元本7200万 → 30年後に2億円(年利7%想定)

**2. 暴落時に追加入金**
→ コロナショック時に買い増した奴は3年で資産2倍

**3. 絶対に売らない(長期ガチホ)**
→ S&P500は過去100年で年利10%。15年以上持てば100%プラス

この3つを満たせば億り人も狙える。
俺はこれで8年で1000万→2500万にした。ガチで。

---

## 実際どれくらい得するのか

| 項目 | 間違った運用 | 正しい運用 | 差額 |
|------|-------------|-----------|------|
| 個別株で損失 | 年間-50万 | +100万 | **+150万** |
| 手数料ボッタクリ | 年間-15万 | -1万 | **+14万** |
| タイミング狙いで高値掴み | 年間-20万 | +10万 | **+30万** |
| **30年合計** | **-2550万** | **+3300万** | **+5850万** |

つまり、**30年で5850万の差が出る**。""",
        "next_preview_day": "土曜",
        "next_preview_loss": "300万円"
    },
    21: {  # 転職で絶対に失敗する面接回答
        "title": "【転職で絶対に失敗する面接回答】",
        "intro_crisis": "転職で3連続不採用だった俺が、ある**3つのNG回答**をやめただけで、次から内定3社同時に出るようになった。",
        "intro_data": "**NG回答する応募者:** 内定率**5%**\n**正しい回答する応募者:** 内定率**60%**\n\n**差額: 12倍の差**",
        "free_section": """## NG回答① 退職理由を「人間関係」と答える

**理由:** 面接官は「この人も同じ理由で辞めるな」と判断 → 即不採用

実際のデータ↓

**「人間関係」と答えた場合:** 内定率**3%**
**「キャリアアップ」と答えた場合:** 内定率**55%**

**差額: 18倍の差**

つまり、「人間関係」と言うだけで**ほぼ確実に落ちる**。

---

俺も昔は知らなくて、正直に「前の会社の上司が...」とか言って3社連続で落ちた。

でも「スキル向上のため」に言い換えただけで次から3社連続内定。マジでこれだけで人生変わる。

---

### お前も当てはまってないか？

・退職理由を「人間関係」「残業が多い」と正直に答える
・志望動機が「御社の理念に共感」(テンプレ丸出し)
・逆質問で「残業時間」「有給取得率」を聞く

全部**即不採用フラグ**だぞ。""",
        "paid_content": """## なんでこんなに落ちる奴が多いのか

採用担当の裏事情、知ってるか?

**面接官は「辞めない人」を最優先で探してる**。
なぜなら、採用コストは1人あたり**50~100万円**かかるから。

だから退職理由が「人間関係」「残業」=「うちでも同じ理由で辞める」と判断される。

**お前の正直な回答 = 不採用確定**

業界データだと中途採用の**平均応募倍率は10~30倍**。
その中で「辞めそうな奴」は即スルーされてる。

ガチでエグい。

---

## じゃあどうすればいいのか

### ステップ1: **絶対に言うな3つのNG回答**

以下は**即不採用**だ。

❌ **NG①: 退職理由が「人間関係」「残業」「給料」**
→ 面接官「うちでも同じ理由で辞めるな」→ 不採用

❌ **NG②: 志望動機が「御社の理念に共感」(テンプレ)**
→ 「どこでもいいんだな」と思われる

❌ **NG③: 逆質問で「残業」「有給」「福利厚生」**
→ 「働きたくないのか」と思われる

この3つ言うだけで**内定率5%以下**。マジで。

---

### ステップ2: **内定取る3つの正解回答**

逆に内定取る回答はここだ↓

⭕ **正解①: 退職理由は「スキルアップ」「新しい挑戦」**
→ 前向きな理由。面接官も納得しやすい

⭕ **正解②: 志望動機は「御社の◯◯事業に関われるから」**
→ 具体的な事業名を出す。企業研究してる証拠

⭕ **正解③: 逆質問で「入社後に期待される成果」**
→ やる気アピール。面接官の印象◎

この3つを守れば**内定率60%**。
俺も実際に試して3社同時内定取った。

---

### ステップ3: **プロが使う3つの裏ワザ**

内定取りまくる奴は全員これやってる。

**1. 面接前に会社の決算資料を読む**
→ 「売上◯%増ですね」と具体的に言える = 企業研究ガチ勢

**2. 「御社で◯◯を実現したい」と数字で語る**
→ 「3年で◯◯の売上達成」具体的 = 信頼される

**3. 最終面接で「内定出たら即決します」と言う**
→ 本気度アピール。他社と迷ってる奴より優先される

この3つを満たせば年収100万アップも余裕。
俺はこれで年収350万→550万にした。ガチで。

---

## 実際どれくらい得するのか

| 項目 | NG回答 | 正解回答 | 差額 |
|------|--------|---------|------|
| 内定率 | 5% | 60% | **12倍** |
| 応募社数(内定1社取るまで) | 20社 | 2社 | **-18社** |
| 転職活動期間 | 6ヶ月 | 1ヶ月 | **-5ヶ月** |
| 年収 | 350万 | 500万 | **+150万/年** |

つまり、**初年度だけで150万、10年で1500万の差が出る**。""",
        "next_preview_day": "月曜",
        "next_preview_loss": "50万円"
    }
}


def generate_refined_article(article_id, theme_title, day, next_preview, content_data):
    """品質向上した記事を生成"""
    
    # 無料部分
    free_part = f"""# {content_data['title']}

---

## 【無料部分】タバコ1本吸う間に読める

{content_data['intro_crisis']}

その3つのうち、**1つだけ無料で公開する**。

---

{content_data['free_section']}

---

## 残りも知りたい？

無料で公開したのは**1つだけ**。

この先を知れば、**{content_data.get('next_preview_loss', '年間100万')}は確実に守れる**。

---

タバコ1箱分(300円)で読める。

300円ケチって損するバカになるか、300円払って得するか。

お前次第。

---
"""

    # 有料部分
    paid_part = f"""
## 【有料部分】¥300

おう、300円払ったな。賢い選択だ。

{content_data['paid_content']}

---

## 最後に

周りのバカどもは知らずに損し続けてる。

でも、**お前は違う**。

この記事読んだだけで「情報に金払える奴」になった。
それが成り上がる第一歩だ。

お前は賢い選択をした。周りのバカどもに差をつけろ。

---

## 次回予告 × フォロー特典

次は「{next_preview}」を公開する。

知らないと{content_data.get('next_preview_loss', '年間50万円')}損するぞ。
公開は**{content_data.get('next_preview_day', '火曜')}12時**。見逃すな。

---

### フォロー特典

Twitterフォローしてくれた人には次回記事を**100円引き**で読めるクーポン配布

[@gethinu](https://x.com/gethinu)をフォロー → DMで「クーポン」と送る → GET

---

## 👤 このマガジンについて

**げすいぬ | 底辺脱出マガジン**

底辺から這い上がる情報を晒してる📢

このマガジンでは、タバコ1箱分（300円）で読める有料記事を毎日配信🔥

📅 **月曜**: ギャンブル・金💰  
📅 **火曜**: ビジネス・キャリア💼  
📅 **水曜**: 生活・節約🏠  
📅 **木曜**: 社会・ネット裏事情🌐  
📅 **金曜**: 健康・美容💪  
📅 **土曜**: 恋愛・人間関係💕  
📅 **日曜**: 趣味・遊び🎮

周りのバカどもは損し続けてる。
お前は違う。

🔗 **X(Twitter)**: [@gethinu](https://x.com/gethinu)  
📝 **note**: [げすいぬ | 底辺脱出マガジン](https://note.com/geth_note)

---

*※この記事は一般的な情報提供を目的としています。*

---

#げすいぬ #GETH #底辺脱出
"""

    return free_part + paid_part


def main():
    """メイン処理"""
    
    # article_master.json読み込み
    master_path = Path(__file__).parent.parent / "gethnote" / "article_master.json"
    with open(master_path, encoding="utf-8") as f:
        master_data = json.load(f)
    
    print("🎨 Week 2-3優先記事のブラッシュアップ開始")
    print(f"対象: ID 10, 12, 21の3記事(サンプル)\n")
    
    # ID 8, 9は既に手動で完成済み
    # 残りの高優先度記事をブラッシュアップ
    for article in master_data["articles"]:
        article_id = article["id"]
        
        # 対象記事のみ処理(今回はサンプルとして10, 12, 21のみ)
        if article_id not in [10, 12, 21]:
            continue
        
        if article_id not in ARTICLE_CONTENTS:
            print(f"⚠️  [ID {article_id}] コンテンツ未定義 - スキップ")
            continue
        
        # ファイルパス構築
        file_path = Path(__file__).parent.parent / "gethnote" / "drafts" / f"{article['file']}.md"
        
        if not file_path.exists():
            print(f"❌ [ID {article_id}] ファイルが見つかりません: {file_path}")
            continue
        
        # 記事生成
        content_data = ARTICLE_CONTENTS[article_id]
        refined_content = generate_refined_article(
            article_id,
            article["title"],
            article["day"],
            article["next_preview"],
            content_data
        )
        
        # ファイル書き込み
        with open(file_path, "w", encoding="utf-8") as f:
            f.write(refined_content)
        
        print(f"✅ [ID {article_id:3d}] {article['day']} - {article['title']}")
    
    print(f"\n🎉 ブラッシュアップ完了!")
    print(f"残り11記事(ID: 11, 13-20)は同じパターンで追加可能")


if __name__ == "__main__":
    main()
