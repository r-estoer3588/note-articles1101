#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Threads 60æ—¥æˆ¦ç•¥ æŠ•ç¨¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«

ä½¿ã„æ–¹:
    python threads_post_generator.py --type æå¤±å›é¿å‹ --theme "æ™‚çµ¦è¨ˆç®—"
    python threads_post_generator.py --interactive
    python threads_post_generator.py --generate-week
"""

import argparse
import random
from datetime import datetime, timedelta
from typing import Dict, List


class ThreadsPostGenerator:
    """ThreadsæŠ•ç¨¿ã‚’ç”Ÿæˆã™ã‚‹ã‚¯ãƒ©ã‚¹"""

    def __init__(self):
        self.post_types = {
            "æå¤±å›é¿å‹": self._generate_loss_aversion,
            "å…±æ„Ÿå‹": self._generate_empathy,
            "ãƒªã‚¹ãƒˆå‹": self._generate_list,
            "æŒ‘ç™ºå‹": self._generate_provocation,
            "æˆåŠŸä½“é¨“å‹": self._generate_success_story,
        }

        self.hooks = {
            "æå¤±å›é¿å‹": [
                "ã‚ãªãŸã®æ™‚çµ¦ã€è¨ˆç®—ã—ãŸã“ã¨ã‚ã‚‹ï¼Ÿ",
                "40å¹´åƒã„ã¦ã€ä½•ãŒæ®‹ã‚‹ï¼Ÿ",
                "ä»Šã®ã¾ã¾ã§æœ¬å½“ã«ã„ã„ï¼Ÿ",
                "1å¹´å‰ã«å§‹ã‚ã¦ãŸã‚‰ã€ä»Šé ƒâ€¦",
                "é€šå‹¤æ™‚é–“ã€ä½•æ™‚é–“ä½¿ã£ã¦ã‚‹ï¼Ÿ",
            ],
            "å…±æ„Ÿå‹": [
                "ã€Œå¿™ã—ã„ã‹ã‚‰å‰¯æ¥­ã§ããªã„ã€\n\nã“ã‚Œã€å»å¹´ã®ä¿ºã€‚",
                "çµ¦æ–™æ—¥å‰ã®3æ—¥é–“ã€‚\n\nè²¡å¸ƒï¼š237å††",
                "åœŸæ›œã®å¤œã€‚\nå‹é”ã¯ã‚¤ãƒ³ã‚¹ã‚¿ã§é£²ã¿ä¼šã€‚\nä¿ºã¯6ç•³ã®ã‚¢ãƒ‘ãƒ¼ãƒˆã§ã‚«ãƒƒãƒ—éººã€‚",
                "æ™‚çµ¦950å††ã§8æ™‚é–“åŠ´åƒã€‚\næ®‹æ¥­30åˆ†ã‚‚ã‚µãƒ¼ãƒ“ã‚¹ã€‚",
                "ã€Œé‡‘æŒã¡ã¯æŠ•è³‡ã—ã‚ã€ã¨ã‹\nãƒã‚¸ã§ç¬‘ã‚ã›ã‚“ãªã€‚",
            ],
            "ãƒªã‚¹ãƒˆå‹": [
                "ChatGPTã§æœˆ20ä¸‡ç¨¼ãäººãŒ\nçµ¶å¯¾ã‚„ã£ã¦ã‚‹3ã¤ã®ã“ã¨ã€‚",
                "å‰¯æ¥­ã§å¤±æ•—ã™ã‚‹äººã®\nå…±é€šç‚¹3ã¤ã€‚",
                "æ™‚é–“ã‚’ç”Ÿã‚€7ã¤ã®ç¿’æ…£ã€‚",
                "noteã§æœˆ5ä¸‡ç¨¼ã\n4ã‚¹ãƒ†ãƒƒãƒ—ã€‚",
                "AIãƒ„ãƒ¼ãƒ«5é¸ã€‚",
            ],
            "æŒ‘ç™ºå‹": [
                "å¹´å500ä¸‡ã§æº€è¶³ã—ã¦ã‚‹äººã€\næ­£æ°—ï¼Ÿ",
                "ã€ŒåŠªåŠ›ãŒè¶³ã‚Šãªã„ã€ï¼Ÿ\n\næ™‚çµ¦950å††ã§ä½•ã‚’åŠªåŠ›ã—ã‚ã£ã¦ï¼Ÿ",
                "ã€ŒãŠå‰ã«ã¯ç„¡ç†ã€\n\nã£ã¦è¨€ã‚ã‚ŒãŸã“ã¨ã€ã‚ã‚‹ï¼Ÿ",
            ],
            "æˆåŠŸä½“é¨“å‹": [
                "3ãƒ¶æœˆå‰ã®ä¿º:\nå‰¯æ¥­åå…¥ 0å††\n\nä»Š:\næœˆ12ä¸‡å††",
                "åŠå¹´ã§å¤‰ã‚ã£ãŸã“ã¨ã€‚",
                "åº•è¾ºã‹ã‚‰é€™ã„ä¸ŠãŒã£ãŸè©±ã€‚",
            ],
        }

        self.ctas = [
            "ã‚ãªãŸã®æ™‚çµ¦ã€æ•™ãˆã¦ã€‚\nãƒªãƒ—æ¬„ã§è¨ˆç®—ã—ã‚ˆã†ã€‚",
            "ä¿å­˜ã—ã¨ã„ã¦ã€‚\nã‚ã¨ã§çµ¶å¯¾ä½¿ã†ã€‚",
            "RT100è¶…ãˆãŸã‚‰ãƒ„ãƒªãƒ¼ã§å…¨å…¬é–‹ã™ã‚‹ã€‚",
            "è³ªå•ã¯ãƒªãƒ—ã§å—ã‘ä»˜ã‘ã‚‹ğŸ”¥",
            "åŒã˜ã‚ˆã†ã«é€™ã„ä¸ŠãŒã‚ŠãŸã„äººã€\nãƒªãƒ—ã§ã€Œã¯ã„ã€ã£ã¦è¨€ã£ã¦ã€‚",
            "ã‚‚ã£ã¨è©³ã—ãçŸ¥ã‚ŠãŸã„äººã¯ã€\nãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®noteã¸ğŸ‘‡",
        ]

    def _generate_loss_aversion(self, theme: str) -> str:
        """æå¤±å›é¿åˆºæ¿€å‹ã®æŠ•ç¨¿ã‚’ç”Ÿæˆ"""
        hook = random.choice(self.hooks["æå¤±å›é¿å‹"])

        if "æ™‚çµ¦" in theme:
            body = """ã‚ãªãŸã®æ™‚çµ¦ã€è¨ˆç®—ã—ãŸã“ã¨ã‚ã‚‹ï¼Ÿ

å¹´å500ä¸‡ãªã‚‰æ™‚çµ¦2,500å††ã€‚
ã§ã‚‚å®Ÿåƒæ™‚é–“ã§å‰²ã‚‹ã¨ï¼Ÿ

æ®‹æ¥­ãƒ»é€šå‹¤å«ã‚ãŸã‚‰æ™‚çµ¦1,800å††ã€‚

ã“ã®40å¹´é–“ã€ã“ã®æ™‚çµ¦ã§äººç”Ÿå£²ã‚Šåˆ‡ã‚‹ï¼Ÿ

ã€æ–¬æ–°ãªåˆ‡ã‚Šå£ã€‘
æ™‚çµ¦ã˜ã‚ƒãªãã€Œäººç”Ÿæ™‚çµ¦ã€ã§è€ƒãˆã‚ã€‚

1æ—¥24æ™‚é–“ã€‚
ä»•äº‹10æ™‚é–“ã€‚
ç¡çœ 7æ™‚é–“ã€‚
æ®‹ã‚Š7æ™‚é–“ã€‚

ã“ã®7æ™‚é–“ã®ä½¿ã„æ–¹ã§ã€
10å¹´å¾ŒãŒæ±ºã¾ã‚‹ã€‚

ç¶šãã¯ãƒ„ãƒªãƒ¼ã§ğŸ‘‡"""

        elif "å¹´é‡‘" in theme:
            body = """40å¹´åƒã„ã¦ã€ä½•ãŒæ®‹ã‚‹ï¼Ÿ

å¹´é‡‘ï¼Ÿ
è€å¾Œ2,000ä¸‡ï¼Ÿ

ãƒã‚¸ã§è€ƒãˆãŸæ–¹ãŒã„ã„ã€‚

ã€ç¾å®Ÿã€‘
å¹´é‡‘å—çµ¦é–‹å§‹: 65æ­³
å¹³å‡å¯¿å‘½: 85æ­³
å—çµ¦æœŸé–“: 20å¹´

æœˆ15ä¸‡ Ã— 12ãƒ¶æœˆ Ã— 20å¹´ = 3,600ä¸‡

ã§ã‚‚ã€2,000ä¸‡è¶³ã‚Šãªã„ã€‚

ã€ã ã‹ã‚‰ã©ã†ã™ã‚‹ï¼Ÿã€‘
ä»Šã‹ã‚‰å‰¯æ¥­ã§æœˆ5ä¸‡ä½œã‚‹ã€‚
40å¹´ã§2,400ä¸‡ã€‚

ã“ã‚ŒãŒã€Œé€ƒã’é“ã€ã€‚"""

        elif "æ©Ÿä¼šæå¤±" in theme:
            body = """ã€Œå‰¯æ¥­ã¯æ€ªã—ã„ã€
ã€Œä»Šã¯å¿™ã—ã„ã€
ã€Œæ¥å¹´ã‹ã‚‰å§‹ã‚ã‚‹ã€

ã“ã®è¨€ã„è¨³ã€å»å¹´ã‚‚è¨€ã£ã¦ãªã‹ã£ãŸï¼Ÿ

1å¹´å‰ã«å§‹ã‚ã¦ãŸã‚‰ã€
ä»Šé ƒæœˆ5ä¸‡ã¯ç¨¼ã’ã¦ãŸã®ã«ã€‚

1å¹´ Ã— 5ä¸‡ = 60ä¸‡å††

ã“ã®60ä¸‡ã€ã©ã“ã«æ¶ˆãˆãŸï¼Ÿ

æã—ã¦ã‚‹ã®ã¯ã€å‹•ã‹ãªã„ãŠå‰ã ã‚ˆã€‚"""

        else:
            body = f"""{hook}

ã€ãƒ†ãƒ¼ãƒ: {theme}ã€‘

ä»Šã®ã¾ã¾ã˜ã‚ƒãƒ¤ãƒã„ç†ç”±:
1. æ™‚é–“ãŒçµŒã¤ã»ã©é¸æŠè‚¢ãŒæ¸›ã‚‹
2. AIã«ä»•äº‹ãŒå¥ªã‚ã‚Œã‚‹
3. å¹´é‡‘ã¯æœŸå¾…ã§ããªã„

ã§ã‚‚ã€é€ƒã’é“ã¯ã‚ã‚‹ã€‚

ä»Šã™ãå‹•ã‘ã€‚"""

        cta = random.choice(self.ctas)
        return f"{body}\n\n{cta}"

    def _generate_empathy(self, theme: str) -> str:
        """å…±æ„Ÿâ†’å¸Œæœ›æç¤ºå‹ã®æŠ•ç¨¿ã‚’ç”Ÿæˆ"""
        hook = random.choice(self.hooks["å…±æ„Ÿå‹"])

        if "æ™‚é–“" in theme:
            body = """ã€Œå¿™ã—ã„ã‹ã‚‰å‰¯æ¥­ã§ããªã„ã€

ã“ã‚Œã€å»å¹´ã®ä¿ºã€‚

ã€ä¿ºã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã€‘
æœ6æ™‚èµ·åºŠã€‚
é€šå‹¤1.5æ™‚é–“ã€‚
ä»•äº‹9æ™‚é–“ã€‚
å¸°å®…21æ™‚ã€‚

ã©ã“ã«å‰¯æ¥­ã®æ™‚é–“ãŒï¼Ÿ

ã€æ–¬æ–°ãªåˆ‡ã‚Šå£ã€‘
ã€Œæ™‚é–“ã‚’ä½œã‚‹ã€ã˜ã‚ƒãªãã€Œæ™‚é–“ã‚’è²·ã†ã€

ä¿ºãŒã‚„ã£ãŸã“ã¨:
1. é€šå‹¤æ™‚é–“ã§Voicyå­¦ç¿’ï¼ˆå¾€å¾©3æ™‚é–“ï¼‰
2. æ˜¼ä¼‘ã¿ã§noteåŸ·ç­†ï¼ˆ30åˆ†ï¼‰
3. å®¶äº‹ã‚’å¤–æ³¨ï¼ˆé€±æœ«2æ™‚é–“ç¢ºä¿ï¼‰

åˆè¨ˆ: é€±20æ™‚é–“

ã“ã‚Œã ã‘ã§äººç”Ÿå¤‰ã‚ã£ãŸã€‚

ã€Œä½•ã‚’å¤–æ³¨ã—ãŸã‹ã€ã¯ãƒ„ãƒªãƒ¼ã§è§£èª¬ğŸ‘‡"""

        elif "é‡‘" in theme:
            body = """çµ¦æ–™æ—¥å‰ã®3æ—¥é–“ã€‚

è²¡å¸ƒï¼š237å††
éŠ€è¡Œï¼š1,580å††
å†·è”µåº«ï¼šåµ2å€‹ã¨ã‚±ãƒãƒ£ãƒƒãƒ—

ã€Œé‡‘æŒã¡ã¯æŠ•è³‡ã—ã‚ã€ã¨ã‹
ãƒã‚¸ã§ç¬‘ã‚ã›ã‚“ãªã€‚

æŠ•è³‡ã™ã‚‹é‡‘ãŒã­ã‡ã‚“ã ã‚ˆã€‚

ã€ã§ã‚‚è«¦ã‚ã¦ãªã„ã€‘

ä¿ºãŒã‚„ã£ãŸã“ã¨:
1. ãƒ¡ãƒ«ã‚«ãƒªã§ä¸ç”¨å“å£²ã‚‹ï¼ˆ5,000å††ï¼‰
2. ã‚³ã‚³ãƒŠãƒ©ã§æ–‡å­—èµ·ã“ã—ï¼ˆ5,000å††ï¼‰

åˆè¨ˆ: 1ä¸‡å††

ã“ã‚ŒãŒæœ€åˆã®ä¸€æ­©ã ã£ãŸã€‚"""

        else:
            body = f"""{hook}

ã€å…±æ„Ÿãƒã‚¤ãƒ³ãƒˆã€‘
{theme}

ä¿ºã‚‚ãã†ã ã£ãŸã€‚

ã§ã‚‚ã€ã“ã“ã‹ã‚‰é€™ã„ä¸ŠãŒã£ãŸã€‚

ã‚„ã£ãŸã“ã¨ã¯3ã¤ã ã‘ã€‚

1. å°ã•ãå§‹ã‚ã‚‹
2. æ¯æ—¥ç¶šã‘ã‚‹
3. è«¦ã‚ãªã„

ã“ã‚Œã ã‘ã€‚"""

        cta = "ã€Œæ™‚é–“ãªã„ã€ã£ã¦äººã€\nä½•ã«æ™‚é–“ä½¿ã£ã¦ã‚‹ï¼Ÿ\n\nãƒªãƒ—ã§æ•™ãˆã¦ã€‚\nä¸€ç·’ã«å‰Šã‚Œã‚‹ã‚‚ã®æ¢ãã†ã€‚"
        return f"{body}\n\n{cta}"

    def _generate_list(self, theme: str) -> str:
        """ãƒªã‚¹ãƒˆå‹ã®æŠ•ç¨¿ã‚’ç”Ÿæˆ"""
        hook = random.choice(self.hooks["ãƒªã‚¹ãƒˆå‹"])

        if "AI" in theme or "ChatGPT" in theme:
            body = """ChatGPTã§æœˆ20ä¸‡ç¨¼ãäººãŒ
çµ¶å¯¾ã‚„ã£ã¦ã‚‹3ã¤ã®ã“ã¨ã€‚

ã€ç–‘å•ã€‘
ã€ŒAIã§ç¨¼ã’ã‚‹ã€ã£ã¦èãã‘ã©ã€
å…·ä½“çš„ã«ä½•ã™ã‚Œã°ã„ã„ï¼Ÿ

ã€ç­”ãˆã€‘
ã‚¹ã‚­ãƒ«ã˜ã‚ƒãªãã€Œèãæ–¹ã€ãŒ9å‰²ã€‚

1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬åŒ–
   â†’ æ¯å›åŒã˜ã‚¯ã‚ªãƒªãƒ†ã‚£

2. å‡ºåŠ›ã‚’ã€Œå•†å“åŒ–ã€
   â†’ noteã§è²©å£²ãƒ»ã‚³ã‚³ãƒŠãƒ©å‡ºå“

3. è‡ªåˆ†ã®å®Ÿç¸¾ã‚’æŠ•ç¨¿
   â†’ ä¿¡é ¼â†’ã•ã‚‰ã«å£²ã‚Œã‚‹

ã“ã‚Œã ã‘ã€‚

ã€Œå…·ä½“çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹ã¯ï¼Ÿã€

RT100è¶…ãˆãŸã‚‰ãƒ„ãƒªãƒ¼ã§å…¨å…¬é–‹ã™ã‚‹ã€‚"""

        elif "å‰¯æ¥­" in theme:
            body = """å‰¯æ¥­ã§å¤±æ•—ã™ã‚‹äººã®
å…±é€šç‚¹3ã¤ã€‚

ã€ãƒ‘ã‚¿ãƒ¼ãƒ³1: å®Œç’§ä¸»ç¾©ã€‘
100ç‚¹ç›®æŒ‡ã—ã¦ä½•ã‚‚å§‹ã‚ãªã„ã€‚
â†’ 60ç‚¹ã§ã„ã„ã‹ã‚‰å§‹ã‚ã‚ã€‚

ã€ãƒ‘ã‚¿ãƒ¼ãƒ³2: å¤§ããè€ƒãˆã™ãã€‘
ã€Œæœˆ30ä¸‡ç¨¼ãã€ã¨ã‹ç„¡ç†ã‚²ãƒ¼ã€‚
â†’ ã¾ãšæœˆ1ä¸‡ã€‚

ã€ãƒ‘ã‚¿ãƒ¼ãƒ³3: ç¶™ç¶šã§ããªã„ã€‘
3æ—¥åŠä¸»ã€‚
â†’ æ¯æ—¥10åˆ†ã§ã„ã„ã€‚

é€†ã«ã“ã‚Œé¿ã‘ã‚Œã°ã€
åŠå¹´ã§æœˆ5ä¸‡ã¯å›ºã„ã€‚"""

        else:
            body = f"""{hook}

ã€ãƒªã‚¹ãƒˆ: {theme}ã€‘

1. Ã—Ã—Ã—Ã—
   â†’ ç†ç”±ãƒ»åŠ¹æœ

2. Ã—Ã—Ã—Ã—
   â†’ ç†ç”±ãƒ»åŠ¹æœ

3. Ã—Ã—Ã—Ã—
   â†’ ç†ç”±ãƒ»åŠ¹æœ

ã“ã‚Œã ã‘ã§å¤‰ã‚ã‚‹ã€‚
ãƒã‚¸ã§ã€‚"""

        cta = "ä¿å­˜ã—ã¨ã„ã¦ã€‚\nã‚ã¨ã§çµ¶å¯¾ä½¿ã†ã€‚\n\nRTã‚‚ã—ã¦ãã‚ŒãŸã‚‰å¬‰ã—ã„ğŸ”¥"
        return f"{body}\n\n{cta}"

    def _generate_provocation(self, theme: str) -> str:
        """æŒ‘ç™ºãƒ»å•ã„ã‹ã‘å‹ã®æŠ•ç¨¿ã‚’ç”Ÿæˆ"""
        body = """å¹´å500ä¸‡ã§æº€è¶³ã—ã¦ã‚‹äººã€
æ­£æ°—ï¼Ÿ

ã€ç¾å®Ÿã€‘
æ‰‹å–ã‚Š30ä¸‡ã€‚
ç¨é‡‘å¼•ã‹ã‚Œã¦25ä¸‡ã€‚
å®¶è³ƒ8ä¸‡ã€‚
é£Ÿè²»3ä¸‡ã€‚
æ®‹ã‚Š14ä¸‡ã€‚

ã“ã®14ä¸‡ã§ã€
å®¶æ—é¤Šã£ã¦ã€
è€å¾Œè³‡é‡‘è²¯ã‚ã¦ã€
å­ä¾›ã®æ•™è‚²è²»æ‰•ã†ï¼Ÿ

ç„¡ç†ã‚²ãƒ¼ã ã‚ã€‚

ã€æ–¬æ–°ãªåˆ‡ã‚Šå£ã€‘
ã€Œå®‰å®šã€ã¯å¹»æƒ³ã€‚

ä¼šç¤¾ãŒå®ˆã£ã¦ãã‚Œã‚‹ï¼Ÿ
å¹´é‡‘ãŒã‚‚ã‚‰ãˆã‚‹ï¼Ÿ
çµ‚èº«é›‡ç”¨ï¼Ÿ

å…¨éƒ¨ã€æ˜­å’Œã®å¸¸è­˜ã€‚

ä»¤å’Œã¯ã€Œå€‹äººã§ç¨¼ãåŠ›ã€ãŒå…¨ã¦ã€‚

ã€Œã˜ã‚ƒã‚ã©ã†ã™ã‚Œã°ã„ã„ï¼Ÿã€

ãã‚Œã¯ãƒ„ãƒªãƒ¼ã§ğŸ‘‡

å¹´å500ä¸‡ä»¥ä¸‹ã®äººã€
ãƒªãƒ—ã§ã€Œã¯ã„ã€ã£ã¦è¨€ã£ã¦ã€‚

ä¸€ç·’ã«é€™ã„ä¸ŠãŒã‚ã†ã€‚"""

        return body

    def _generate_success_story(self, theme: str) -> str:
        """æˆåŠŸä½“é¨“ã‚·ã‚§ã‚¢å‹ã®æŠ•ç¨¿ã‚’ç”Ÿæˆ"""
        body = """3ãƒ¶æœˆå‰ã®ä¿º:
å‰¯æ¥­åå…¥ 0å††

ä»Š:
æœˆ12ä¸‡å††

ã€ç–‘å•ã€‘
ã€Œå‰¯æ¥­ã§ç¨¼ãã€ã£ã¦ã€
ç‰¹åˆ¥ãªã‚¹ã‚­ãƒ«ã„ã‚‹ï¼Ÿ

ã„ã‚‰ãªã„ã€‚

ã€æ–¬æ–°ãªåˆ‡ã‚Šå£ã€‘
å¿…è¦ãªã®ã¯ã€Œå†ç¾æ€§ã‚ã‚‹å‹ã€ã ã‘ã€‚

ä¿ºãŒã‚„ã£ãŸã“ã¨:

1ãƒ¶æœˆç›®: ChatGPTã§è¨˜äº‹é‡ç”£ï¼ˆæ¯æ—¥3æœ¬ï¼‰
2ãƒ¶æœˆç›®: noteã«æŠ•ç¨¿ï¼ˆç„¡æ–™ã§ä¿¡é ¼æ§‹ç¯‰ï¼‰
3ãƒ¶æœˆç›®: æœ‰æ–™noteè²©å£²é–‹å§‹

çµæœ:
- ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼1,200äºº
- noteæœˆé–“PV 8,000
- å£²ä¸Š12ä¸‡å††

ç‰¹åˆ¥ãªã“ã¨ã¯ä½•ã‚‚ã—ã¦ãªã„ã€‚
å‹ã«æ²¿ã£ãŸã ã‘ã€‚

ã€Œå…·ä½“çš„ãªå‹ã€ã¯ãƒ„ãƒªãƒ¼ã§å…¨å…¬é–‹ğŸ‘‡

ã‚‚ã£ã¨è©³ã—ãçŸ¥ã‚ŠãŸã„äººã¯ã€
ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®noteã¸ã€‚

3ãƒ¶æœˆã®å…¨è¨˜éŒ²ã‚’ç„¡æ–™å…¬é–‹ã—ã¦ã‚‹ã€‚

è³ªå•ã¯ãƒªãƒ—ã§å—ã‘ä»˜ã‘ã‚‹ğŸ”¥"""

        return body

    def generate_post(self, post_type: str, theme: str = "") -> str:
        """æŒ‡å®šã•ã‚ŒãŸã‚¿ã‚¤ãƒ—ã¨ãƒ†ãƒ¼ãƒã§æŠ•ç¨¿ã‚’ç”Ÿæˆ"""
        if post_type not in self.post_types:
            raise ValueError(f"ä¸æ˜ãªæŠ•ç¨¿ã‚¿ã‚¤ãƒ—: {post_type}")

        generator_func = self.post_types[post_type]
        return generator_func(theme)

    def generate_week_schedule(self, phase: int = 1) -> List[Dict]:
        """1é€±é–“åˆ†ã®æŠ•ç¨¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç”Ÿæˆ"""
        schedules = []

        # Phaseåˆ¥ã®æŠ•ç¨¿ãƒ‘ã‚¿ãƒ¼ãƒ³
        if phase == 1:
            # Phase 1: èªçŸ¥æ‹¡å¤§ï¼ˆ1-20æ—¥ï¼‰
            weekly_pattern = {
                "æœˆ": [
                    ("07:00", "æå¤±å›é¿å‹", "æ™‚çµ¦è¨ˆç®—"),
                    ("12:00", "ãƒªã‚¹ãƒˆå‹", "AIãƒ„ãƒ¼ãƒ«"),
                    ("21:00", "å…±æ„Ÿå‹", "æ™‚é–“ãªã„"),
                ],
                "ç«": [
                    ("07:00", "å…±æ„Ÿå‹", "é‡‘ãªã„"),
                    ("12:00", "æå¤±å›é¿å‹", "å¹´é‡‘å•é¡Œ"),
                    ("21:00", "ãƒªã‚¹ãƒˆå‹", "å‰¯æ¥­å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³"),
                ],
                "æ°´": [
                    ("07:00", "ãƒªã‚¹ãƒˆå‹", "æ™‚é–“ã‚’ç”Ÿã‚€ç¿’æ…£"),
                    ("12:00", "æŒ‘ç™ºå‹", "å¹´åæº€è¶³ï¼Ÿ"),
                    ("21:00", "æå¤±å›é¿å‹", "æ©Ÿä¼šæå¤±"),
                ],
                "æœ¨": [
                    ("07:00", "æå¤±å›é¿å‹", "é€šå‹¤æ™‚é–“"),
                    ("12:00", "å…±æ„Ÿå‹", "ã‚¹ã‚­ãƒ«ãªã„"),
                    ("21:00", "æˆåŠŸä½“é¨“å‹", "ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼å¢—åŠ "),
                ],
                "é‡‘": [
                    ("07:00", "æˆåŠŸä½“é¨“å‹", "å‰¯æ¥­åå…¥"),
                    ("12:00", "æå¤±å›é¿å‹", "AIå¤±æ¥­"),
                    ("21:00", "å…±æ„Ÿå‹", "å­¤ç‹¬æ„Ÿ"),
                ],
                "åœŸ": [
                    ("07:00", "å…±æ„Ÿå‹", "é€±æœ«ã®çµ¶æœ›"),
                    ("12:00", "ãƒªã‚¹ãƒˆå‹", "noteç¨¼ãæ–¹æ³•"),
                    ("21:00", "æå¤±å›é¿å‹", "äººç”Ÿæ™‚çµ¦"),
                ],
                "æ—¥": [
                    ("07:00", "æå¤±å›é¿å‹", "40å¹´å¾Œ"),
                    ("12:00", "å…±æ„Ÿå‹", "çµ¦æ–™æ—¥å‰"),
                    ("21:00", "ãƒªã‚¹ãƒˆå‹", "å‰¯æ¥­ã‚¹ãƒ†ãƒƒãƒ—"),
                ],
            }
        elif phase == 2:
            # Phase 2: ãƒã‚ºå‰µå‡ºï¼ˆ21-40æ—¥ï¼‰
            weekly_pattern = {
                "æœˆ": [
                    ("07:00", "æå¤±å›é¿å‹", "æ™‚çµ¦è¨ˆç®—"),
                    ("12:00", "ãƒªã‚¹ãƒˆå‹", "ChatGPTæ´»ç”¨"),
                    ("21:00", "å…±æ„Ÿå‹", "æ™‚é–“æ»å‡º"),
                ],
                "ç«": [
                    ("07:00", "å…±æ„Ÿå‹", "é‡‘æ¬ "),
                    ("12:00", "æå¤±å›é¿å‹", "å¹´é‡‘å´©å£Š"),
                    ("21:00", "ãƒªã‚¹ãƒˆå‹", "ãƒã‚ºã‚‹æŠ•ç¨¿"),
                ],
                "æ°´": [
                    ("07:00", "ãƒªã‚¹ãƒˆå‹", "AIè‡ªå‹•åŒ–"),
                    ("12:00", "æŒ‘ç™ºå‹", "åŠªåŠ›è«–åè«–"),
                    ("21:00", "æå¤±å›é¿å‹", "æ©Ÿä¼šæå¤±"),
                ],
                "æœ¨": [
                    ("07:00", "æå¤±å›é¿å‹", "é€šå‹¤ç„¡é§„"),
                    ("12:00", "å…±æ„Ÿå‹", "ã‚¹ã‚­ãƒ«ä¸å®‰"),
                    ("21:00", "æˆåŠŸä½“é¨“å‹", "æœˆåå…¬é–‹"),
                ],
                "é‡‘": [
                    ("07:00", "æˆåŠŸä½“é¨“å‹", "3ãƒ¶æœˆè¨˜éŒ²"),
                    ("12:00", "æå¤±å›é¿å‹", "æ§‹é€ æ‰¹åˆ¤"),
                    ("21:00", "ãƒªã‚¹ãƒˆå‹", "ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼å¢—"),
                    ("01:00", "æŒ‘ç™ºå‹", "åº•è¾ºè„±å‡º"),
                ],
                "åœŸ": [
                    ("07:00", "å…±æ„Ÿå‹", "åœŸæ›œã®å­¤ç‹¬"),
                    ("12:00", "ãƒªã‚¹ãƒˆå‹", "noteè²©å£²"),
                    ("21:00", "æå¤±å›é¿å‹", "å°†æ¥ä¸å®‰"),
                ],
                "æ—¥": [
                    ("07:00", "æå¤±å›é¿å‹", "äººç”Ÿè¨­è¨ˆ"),
                    ("12:00", "å…±æ„Ÿå‹", "æ—¥æ›œã®æ†‚é¬±"),
                    ("21:00", "ãƒªã‚¹ãƒˆå‹", "é€±å ±å‘Š"),
                ],
            }
        else:  # phase == 3
            # Phase 3: åç›ŠåŒ–æº–å‚™ï¼ˆ41-60æ—¥ï¼‰
            weekly_pattern = {
                "æœˆ": [
                    ("07:00", "æå¤±å›é¿å‹", "æ™‚çµ¦è¨ˆç®—"),
                    ("12:00", "ãƒªã‚¹ãƒˆå‹", "AIå‰¯æ¥­"),
                    ("21:00", "å…±æ„Ÿå‹", "æ™‚é–“æˆ¦ç•¥ï¼ˆnoteèª˜å°ï¼‰"),
                ],
                "ç«": [
                    ("07:00", "å…±æ„Ÿå‹", "è³‡é‡‘å•é¡Œ"),
                    ("12:00", "æå¤±å›é¿å‹", "è€å¾Œç ´ç”£"),
                    ("21:00", "ãƒªã‚¹ãƒˆå‹", "ç¨¼ãã‚¹ãƒ†ãƒƒãƒ—"),
                ],
                "æ°´": [
                    ("07:00", "ãƒªã‚¹ãƒˆå‹", "ChatGPTåç›ŠåŒ–ï¼ˆnoteèª˜å°ï¼‰"),
                    ("12:00", "æˆåŠŸä½“é¨“å‹", "60æ—¥è¨˜éŒ²ï¼ˆnoteèª˜å°ï¼‰"),
                    ("21:00", "æå¤±å›é¿å‹", "æ¾å–æ§‹é€ "),
                ],
                "æœ¨": [
                    ("07:00", "æå¤±å›é¿å‹", "æ™‚é–“ã‚³ã‚¹ãƒˆ"),
                    ("12:00", "å…±æ„Ÿå‹", "è»¢è·ä¸å®‰ï¼ˆnoteèª˜å°ï¼‰"),
                    ("21:00", "æˆåŠŸä½“é¨“å‹", "å®Ÿç¸¾å ±å‘Š"),
                ],
                "é‡‘": [
                    ("07:00", "æˆåŠŸä½“é¨“å‹", "å£²ä¸Šå…¬é–‹ï¼ˆnoteèª˜å°ï¼‰"),
                    ("12:00", "æå¤±å›é¿å‹", "AIæ™‚ä»£"),
                    ("21:00", "ãƒªã‚¹ãƒˆå‹", "ãƒã‚ºæˆ¦ç•¥ï¼ˆãƒã‚ºç‹™ã„ï¼‰"),
                    ("01:00", "æŒ‘ç™ºå‹", "æœ¬éŸ³ãƒˆãƒ¼ã‚¯"),
                ],
                "åœŸ": [
                    ("07:00", "å…±æ„Ÿå‹", "é€±æœ«æ ¼å·®"),
                    ("12:00", "ãƒªã‚¹ãƒˆå‹", "ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ï¼ˆnoteèª˜å°ï¼‰"),
                    ("21:00", "æå¤±å›é¿å‹", "æœªæ¥äºˆæ¸¬"),
                ],
                "æ—¥": [
                    ("07:00", "æå¤±å›é¿å‹", "äººç”Ÿæˆ¦ç•¥"),
                    ("12:00", "å…±æ„Ÿå‹", "æ˜æ—¥ã®ä¸å®‰"),
                    ("21:00", "æˆåŠŸä½“é¨“å‹", "é€±å ±å‘Šï¼ˆå®Ÿç¸¾ï¼‰"),
                ],
            }

        # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç”Ÿæˆ
        today = datetime.now()
        days = ["æœˆ", "ç«", "æ°´", "æœ¨", "é‡‘", "åœŸ", "æ—¥"]
        current_day_index = today.weekday()  # 0=æœˆæ›œ

        for i, day in enumerate(days):
            date = today + timedelta(days=i - current_day_index)
            for time, post_type, theme in weekly_pattern[day]:
                schedules.append(
                    {
                        "date": date.strftime("%Y-%m-%d"),
                        "day": day,
                        "time": time,
                        "type": post_type,
                        "theme": theme,
                        "post": self.generate_post(post_type, theme),
                    }
                )

        return schedules

    def export_to_csv(
        self, schedules: List[Dict], filename: str = "threads_schedule.csv"
    ):
        """ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’CSVã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"""
        import csv

        with open(filename, "w", encoding="utf-8-sig", newline="") as f:
            writer = csv.DictWriter(
                f,
                fieldnames=[
                    "date",
                    "day",
                    "time",
                    "type",
                    "theme",
                    "post",
                    "status",
                    "er",
                    "likes",
                    "rt",
                    "replies",
                    "imp",
                    "memo",
                ],
            )
            writer.writeheader()
            for schedule in schedules:
                schedule["status"] = "æœªæŠ•ç¨¿"
                schedule["er"] = ""
                schedule["likes"] = ""
                schedule["rt"] = ""
                schedule["replies"] = ""
                schedule["imp"] = ""
                schedule["memo"] = ""
                writer.writerow(schedule)

        print(f"âœ… {filename} ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ")


def interactive_mode():
    """å¯¾è©±ãƒ¢ãƒ¼ãƒ‰"""
    print("=" * 70)
    print("Threads 60æ—¥æˆ¦ç•¥ æŠ•ç¨¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«")
    print("=" * 70)
    print()

    generator = ThreadsPostGenerator()

    while True:
        print("\nã€æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚’é¸æŠã€‘")
        for i, post_type in enumerate(generator.post_types.keys(), 1):
            print(f"  {i}. {post_type}")
        print("  6. 1é€±é–“åˆ†ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç”Ÿæˆ")
        print("  0. çµ‚äº†")
        print()

        choice = input("é¸æŠ (0-6): ").strip()

        if choice == "0":
            print("\nçµ‚äº†ã—ã¾ã™")
            break
        elif choice == "6":
            print("\nã€Phaseé¸æŠã€‘")
            print("  1. Phase 1ï¼ˆèªçŸ¥æ‹¡å¤§: 1-20æ—¥ï¼‰")
            print("  2. Phase 2ï¼ˆãƒã‚ºå‰µå‡º: 21-40æ—¥ï¼‰")
            print("  3. Phase 3ï¼ˆåç›ŠåŒ–: 41-60æ—¥ï¼‰")
            phase = int(input("Phase (1-3): ").strip())

            schedules = generator.generate_week_schedule(phase)
            timestamp = datetime.now().strftime("%Y%m%d")
            filename = f"threads_schedule_phase{phase}_{timestamp}.csv"
            generator.export_to_csv(schedules, filename)

            print(f"\nâœ… {len(schedules)}ä»¶ã®æŠ•ç¨¿ã‚’ç”Ÿæˆã—ã¾ã—ãŸ")
            print(f"ğŸ“„ {filename} ã‚’ç¢ºèªã—ã¦ãã ã•ã„")

        elif choice in ["1", "2", "3", "4", "5"]:
            post_types = list(generator.post_types.keys())
            post_type = post_types[int(choice) - 1]

            theme = input("\nã€ãƒ†ãƒ¼ãƒã‚’å…¥åŠ›ã€‘ï¼ˆä¾‹: æ™‚çµ¦è¨ˆç®—ã€AIãƒ„ãƒ¼ãƒ«ï¼‰: ").strip()

            print("\n" + "=" * 70)
            post = generator.generate_post(post_type, theme)
            print(post)
            print("=" * 70)

            print(f"\næ–‡å­—æ•°: {len(post)} æ–‡å­—")

            save = input("\nä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ (y/n): ").strip().lower()
            if save == "y":
                timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
                filename = f"threads_post_{timestamp}.txt"
                with open(filename, "w", encoding="utf-8") as f:
                    f.write(post)
                print(f"âœ… {filename} ã«ä¿å­˜ã—ã¾ã—ãŸ")

        else:
            print("âŒ ç„¡åŠ¹ãªé¸æŠã§ã™")


def main():
    parser = argparse.ArgumentParser(description="Threads 60æ—¥æˆ¦ç•¥ æŠ•ç¨¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«")
    parser.add_argument(
        "--type",
        choices=["æå¤±å›é¿å‹", "å…±æ„Ÿå‹", "ãƒªã‚¹ãƒˆå‹", "æŒ‘ç™ºå‹", "æˆåŠŸä½“é¨“å‹"],
        help="æŠ•ç¨¿ã‚¿ã‚¤ãƒ—",
    )
    parser.add_argument("--theme", default="", help="æŠ•ç¨¿ãƒ†ãƒ¼ãƒ")
    parser.add_argument(
        "--generate-week", action="store_true", help="1é€±é–“åˆ†ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç”Ÿæˆ"
    )
    parser.add_argument(
        "--phase", type=int, default=1, choices=[1, 2, 3], help="Phase (1-3)"
    )
    parser.add_argument("--interactive", action="store_true", help="å¯¾è©±ãƒ¢ãƒ¼ãƒ‰")
    parser.add_argument(
        "--output", default="threads_schedule.csv", help="å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å"
    )

    args = parser.parse_args()

    generator = ThreadsPostGenerator()

    if args.interactive:
        interactive_mode()
    elif args.generate_week:
        schedules = generator.generate_week_schedule(args.phase)
        generator.export_to_csv(schedules, args.output)
        print(f"\nâœ… {len(schedules)}ä»¶ã®æŠ•ç¨¿ã‚’ç”Ÿæˆã—ã¾ã—ãŸ")
        print(f"ğŸ“„ {args.output} ã‚’ç¢ºèªã—ã¦ãã ã•ã„")
    elif args.type:
        post = generator.generate_post(args.type, args.theme)
        print("\n" + "=" * 70)
        print(post)
        print("=" * 70)
        print(f"\næ–‡å­—æ•°: {len(post)} æ–‡å­—")
    else:
        parser.print_help()


if __name__ == "__main__":
    main()
