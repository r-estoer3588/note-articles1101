# ãƒ›ã‚²ãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  ã‚¹ãƒãƒ›ç‰ˆã‚¬ã‚¤ãƒ‰

**ã‚¹ãƒãƒ›ã ã‘ã§æŠ•ç¨¿ç”Ÿæˆï¼†ç®¡ç†ã§ãã‚‹ä»•çµ„ã¿**

## ğŸ¯ æ§‹æˆ

```
[LINE] â†’ [n8n] â†’ [Pythonå®Ÿè¡Œ] â†’ [æŠ•ç¨¿ç”Ÿæˆ] â†’ [LINEè¿”ä¿¡]
  â†“
[æŠ•ç¨¿ç¢ºèª] â†’ [ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—] â†’ [Xè‡ªå‹•æŠ•ç¨¿]
```

## ğŸ“± å¿…è¦ãªã‚‚ã®

1. **LINE Notify** ã¾ãŸã¯ **LINE Bot**
2. **n8n**ï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰ç‰ˆ or è‡ªå®…PCå¸¸æ™‚èµ·å‹•ï¼‰
3. **Google Drive**ï¼ˆCSVä¿å­˜ç”¨ï¼‰
4. **Xã‚¢ãƒ—ãƒª**ï¼ˆæŠ•ç¨¿ç¢ºèªç”¨ï¼‰

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆåˆå›ã®ã¿ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—1: LINE Botä½œæˆ

1. LINE Developersã§ãƒœãƒƒãƒˆä½œæˆ
2. Messaging APIã‚’æœ‰åŠ¹åŒ–
3. Webhook URLã‚’n8nã«è¨­å®š

### ã‚¹ãƒ†ãƒƒãƒ—2: Google Driveé€£æº

1. n8nã«Google Driveèªè¨¼è¨­å®š
2. ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ:
   - `/ãƒ›ã‚²ãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ /ç”Ÿæˆæ¸ˆã¿æŠ•ç¨¿/`
   - `/ãƒ›ã‚²ãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ /å­¦ç¿’ãƒ‡ãƒ¼ã‚¿/`

### ã‚¹ãƒ†ãƒƒãƒ—3: n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹ç¯‰

å¾Œè¿°ã®ã€Œn8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šã€ã‚’å‚ç…§

## ğŸ“² æ—¥å¸¸ã®ä½¿ã„æ–¹

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: LINEã§ã‚³ãƒãƒ³ãƒ‰é€ä¿¡

**åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰**

```
ç”Ÿæˆ 5 è²§ä¹è„±å‡º
```

â†’ ã€Œè²§ä¹è„±å‡ºã€ãƒ†ãƒ¼ãƒã§5ä»¶ç”Ÿæˆã—ã¦LINEã«è¿”ä¿¡

**3éƒ¨ä½œç”Ÿæˆ**

```
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ åœæ»ã‹ã‚‰ã®é€†è»¢
```

â†’ 3éƒ¨ä½œã‚’LINEã«è¿”ä¿¡

**å­¦ç¿’å®Ÿè¡Œ**

```
å­¦ç¿’
```

â†’ Google Driveã®CSVã‹ã‚‰å­¦ç¿’å®Ÿè¡Œ

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: LINEã§æŠ•ç¨¿ã‚’é¸æŠ

ç”Ÿæˆå¾Œã€LINEã§ä»¥ä¸‹ãŒå±Šãï¼š

```
ğŸ¶ æŠ•ç¨¿1
ãƒ›ã‚²ãƒ¼ã£ã¨ç”Ÿãã¦ã‚‹ã€‚
æ°—ã¥ã„ãŸã‚‰ä½•ã‚‚å¤‰ã‚ã£ã¦ãªã„ã€‚
...

[æŠ•ç¨¿ã™ã‚‹] [æ¬¡ã¸] [ç ´æ£„]
```

ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã ã‘ï¼

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æº

Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ç®¡ç†ï¼š

1. ã‚¹ãƒãƒ›ã§ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé–‹ã
2. æŠ•ç¨¿æ¡ˆã‚’ç¢ºèªãƒ»ç·¨é›†
3. ã€ŒæŠ•ç¨¿ã€åˆ—ã«ã€Œâ—‹ã€å…¥åŠ›
4. n8nãŒè‡ªå‹•ã§æŠ•ç¨¿å®Ÿè¡Œ

## ğŸ”§ n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®š

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼1: LINEã‚³ãƒãƒ³ãƒ‰ â†’ æŠ•ç¨¿ç”Ÿæˆ

```json
{
  "nodes": [
    {
      "name": "LINE Webhook",
      "type": "n8n-nodes-base.webhook",
      "parameters": {
        "path": "line-hogey",
        "responseMode": "lastNode"
      }
    },
    {
      "name": "ã‚³ãƒãƒ³ãƒ‰è§£æ",
      "type": "n8n-nodes-base.function",
      "parameters": {
        "functionCode": "const text = $input.item.json.events[0].message.text;\nconst parts = text.split(' ');\nconst command = parts[0];\nconst count = parts[1] || 5;\nconst theme = parts.slice(2).join(' ') || 'äººç”Ÿé€†è»¢';\n\nreturn {\n  json: {\n    command: command,\n    count: parseInt(count),\n    theme: theme,\n    replyToken: $input.item.json.events[0].replyToken\n  }\n};"
      }
    },
    {
      "name": "åˆ†å²",
      "type": "n8n-nodes-base.if",
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.command }}",
              "value2": "ç”Ÿæˆ"
            }
          ]
        }
      }
    },
    {
      "name": "Pythonå®Ÿè¡Œ",
      "type": "n8n-nodes-base.executeCommand",
      "parameters": {
        "command": "python",
        "arguments": "hogey_algorithm.py --theme \"={{ $json.theme }}\" --count {{ $json.count }} --json"
      }
    },
    {
      "name": "LINEè¿”ä¿¡",
      "type": "n8n-nodes-base.line",
      "parameters": {
        "resource": "message",
        "operation": "reply",
        "replyToken": "={{ $json.replyToken }}",
        "message": "ğŸ¶ãƒ›ã‚²ãƒ¼æŠ•ç¨¿ç”Ÿæˆå®Œäº†\n\n{{ $json.text }}\n\næ¬¡ã®æŠ•ç¨¿ã‚’è¦‹ã‚‹ï¼Ÿ"
      }
    }
  ]
}
```

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼2: Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç›£è¦–

```json
{
  "nodes": [
    {
      "name": "Schedule",
      "type": "n8n-nodes-base.scheduleTrigger",
      "parameters": {
        "rule": {
          "interval": [{"field": "minutes", "minutesInterval": 10}]
        }
      }
    },
    {
      "name": "ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆèª­è¾¼",
      "type": "n8n-nodes-base.googleSheets",
      "parameters": {
        "operation": "read",
        "sheetId": "YOUR_SHEET_ID",
        "range": "A:H"
      }
    },
    {
      "name": "æŠ•ç¨¿ãƒ•ãƒ©ã‚°ç¢ºèª",
      "type": "n8n-nodes-base.filter",
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.æŠ•ç¨¿ }}",
              "value2": "â—‹"
            }
          ]
        }
      }
    },
    {
      "name": "XæŠ•ç¨¿",
      "type": "n8n-nodes-base.twitter",
      "parameters": {
        "resource": "tweet",
        "operation": "create",
        "text": "={{ $json.text }}"
      }
    },
    {
      "name": "ãƒ•ãƒ©ã‚°æ›´æ–°",
      "type": "n8n-nodes-base.googleSheets",
      "parameters": {
        "operation": "update",
        "updateKey": "post_id",
        "dataToSend": "æŠ•ç¨¿=å®Œäº†"
      }
    }
  ]
}
```

## ğŸ“Š Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†

### ã‚·ãƒ¼ãƒˆæ§‹æˆ

| post_id | text | theme | æŠ•ç¨¿ | scheduled_datetime | likes | retweets |
|---------|------|-------|------|-------------------|-------|----------|
| 1 | ãƒ›ã‚²ãƒ¼ã£ã¨... | è²§ä¹è„±å‡º | â—‹ | 2025-11-09 12:00 | - | - |
| 2 | æ®‹é«˜274å††... | äººç”Ÿé€†è»¢ |  | 2025-11-09 15:00 | - | - |

### ã‚¹ãƒãƒ›ã§ã®æ“ä½œ

1. **Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚¢ãƒ—ãƒªã‚’é–‹ã**
2. **æŠ•ç¨¿ã‚’ç¢ºèªãƒ»ç·¨é›†**
   - ãƒ†ã‚­ã‚¹ãƒˆã‚’é•·æŠ¼ã—ã§ç·¨é›†
   - æ—¥æœ¬èªå…¥åŠ›ã§å¾®èª¿æ•´
3. **ã€ŒæŠ•ç¨¿ã€åˆ—ã«â—‹ã‚’å…¥åŠ›**
4. **10åˆ†ä»¥å†…ã«è‡ªå‹•æŠ•ç¨¿**

## ğŸ”„ è‡ªå‹•åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‘ã‚¿ãƒ¼ãƒ³A: æ¯æœè‡ªå‹•ç”Ÿæˆ

```
æ¯æœ7æ™‚ã«5ä»¶ç”Ÿæˆã—ã¦LINEã§é€šçŸ¥
â†“
ã‚¹ãƒãƒ›ã§ç¢ºèª
â†“
æ°—ã«å…¥ã£ãŸæŠ•ç¨¿ã ã‘ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«â—‹
â†“
è‡ªå‹•æŠ•ç¨¿
```

**n8nè¨­å®š**:
```json
{
  "name": "æ¯æœç”Ÿæˆ",
  "type": "scheduleTrigger",
  "parameters": {
    "rule": {
      "interval": [{"field": "cronExpression", "expression": "0 7 * * *"}]
    }
  }
}
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³B: ãƒ†ãƒ¼ãƒåˆ¥æ›œæ—¥è‡ªå‹•åŒ–

```
æœˆæ›œ: ã‚®ãƒ£ãƒ³ãƒ–ãƒ«
ç«æ›œ: ãƒ“ã‚¸ãƒã‚¹
æ°´æ›œ: ç¯€ç´„
...
```

**n8nè¨­å®š**:
```javascript
const themes = {
  1: "ã‚®ãƒ£ãƒ³ãƒ–ãƒ«ä¾å­˜",
  2: "ãƒ–ãƒ©ãƒƒã‚¯ä¼æ¥­",
  3: "ç„¡é§„é£ã„",
  4: "SNSä¾å­˜",
  5: "ç–²åŠ´",
  6: "äººé–“é–¢ä¿‚",
  0: "æ™‚é–“ã®ä½¿ã„æ–¹"
};
const today = new Date().getDay();
const theme = themes[today];
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³C: LINEé€ä¿¡ã§å³ç”Ÿæˆ

```
[ã‚¹ãƒãƒ›] LINEé€ä¿¡: "ç”Ÿæˆ 3 è²§ä¹è„±å‡º"
â†“
[n8n] å—ä¿¡ â†’ Pythonå®Ÿè¡Œ
â†“
[ã‚¹ãƒãƒ›] LINEé€šçŸ¥: æŠ•ç¨¿3ä»¶
â†“
[ã‚¹ãƒãƒ›] ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—ã§æŠ•ç¨¿
```

## ğŸ“± LINEãƒœã‚¿ãƒ³è¨­å®š

### ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ—ãƒ©ã‚¤ãƒœã‚¿ãƒ³

```json
{
  "type": "template",
  "altText": "æŠ•ç¨¿ã‚’é¸æŠ",
  "template": {
    "type": "buttons",
    "text": "ãƒ›ã‚²ãƒ¼ã£ã¨ç”Ÿãã¦ã‚‹ã€‚\næ°—ã¥ã„ãŸã‚‰ä½•ã‚‚å¤‰ã‚ã£ã¦ãªã„ã€‚\n...",
    "actions": [
      {
        "type": "postback",
        "label": "ã“ã®æŠ•ç¨¿ã‚’Xã«æŠ•ç¨¿",
        "data": "action=post&id=1"
      },
      {
        "type": "postback",
        "label": "æ¬¡ã®æŠ•ç¨¿ã‚’è¦‹ã‚‹",
        "data": "action=next&id=2"
      },
      {
        "type": "postback",
        "label": "ç ´æ£„",
        "data": "action=discard"
      }
    ]
  }
}
```

## ğŸ¨ ã‚¹ãƒãƒ›å°‚ç”¨ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

```
ç”Ÿæˆ [ä»¶æ•°] [ãƒ†ãƒ¼ãƒ]
ä¾‹: ç”Ÿæˆ 5 è²§ä¹è„±å‡º
```

### ç‰¹æ®Šã‚³ãƒãƒ³ãƒ‰

```
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ [ãƒ†ãƒ¼ãƒ]     # 3éƒ¨ä½œç”Ÿæˆ
å­¦ç¿’                   # CSVå­¦ç¿’å®Ÿè¡Œ
ä»Šæ—¥                   # æ›œæ—¥åˆ¥ãƒ†ãƒ¼ãƒã§ç”Ÿæˆ
äºˆç´„ 12:00             # 12æ™‚ã«è‡ªå‹•æŠ•ç¨¿
çŠ¶æ…‹                   # ä»Šæ—¥ã®æŠ•ç¨¿çŠ¶æ³ç¢ºèª
```

### ã‚³ãƒãƒ³ãƒ‰ä¾‹

```
# ä»Šã™ã5ä»¶ç”Ÿæˆ
ç”Ÿæˆ 5 å‰¯æ¥­

# 3éƒ¨ä½œç”Ÿæˆ
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ åœæ»ã‹ã‚‰ã®é€†è»¢

# æ›œæ—¥åˆ¥ãƒ†ãƒ¼ãƒã§3ä»¶
ä»Šæ—¥ 3

# 15æ™‚ã«äºˆç´„æŠ•ç¨¿
äºˆç´„ 15:00

# ä»Šæ—¥ã®çŠ¶æ³ç¢ºèª
çŠ¶æ…‹
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### LINE Botèªè¨¼

ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®ã¿è¨±å¯:

```javascript
const allowedUsers = ["U1234567890abcdef"];
const userId = $input.item.json.events[0].source.userId;

if (!allowedUsers.includes(userId)) {
  return { json: { error: "Unauthorized" } };
}
```

## ğŸ“ˆ åå¿œãƒ‡ãƒ¼ã‚¿è‡ªå‹•è¨˜éŒ²

### X APIã§åå¿œå–å¾—

```json
{
  "name": "åå¿œå–å¾—",
  "type": "scheduleTrigger",
  "schedule": "0 9 * * *",
  "then": [
    {
      "name": "æ˜¨æ—¥ã®æŠ•ç¨¿å–å¾—",
      "type": "twitter",
      "operation": "getTweets",
      "parameters": {
        "userId": "YOUR_USER_ID",
        "startTime": "{{ $now.minus(24, 'hours') }}"
      }
    },
    {
      "name": "ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°",
      "type": "googleSheets",
      "operation": "update",
      "dataToSend": {
        "likes": "={{ $json.public_metrics.like_count }}",
        "retweets": "={{ $json.public_metrics.retweet_count }}"
      }
    }
  ]
}
```

## ğŸ’¡ ä¾¿åˆ©ãªä½¿ã„æ–¹Tips

### Tip1: Siriã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆé€£æº

iPhone/iPadã®å ´åˆ:

1. ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚¢ãƒ—ãƒªã§æ–°è¦ä½œæˆ
2. ã€ŒURLã®å†…å®¹ã‚’å–å¾—ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
3. n8nã®Webhook URLã‚’è¨­å®š
4. Siriã§ã€Œãƒ›ã‚²ãƒ¼ç”Ÿæˆã€ã¨è©±ã™ã ã‘

### Tip2: Androidã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

1. HTTP Shortcutsã‚¢ãƒ—ãƒª
2. n8n Webhook URLã‚’è¨­å®š
3. ãƒ›ãƒ¼ãƒ ç”»é¢ã«ãƒœã‚¿ãƒ³é…ç½®

### Tip3: é€šçŸ¥ã§ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—æŠ•ç¨¿

LINEã®é€šçŸ¥ã‹ã‚‰ç›´æ¥æŠ•ç¨¿:

```json
{
  "type": "flex",
  "altText": "æŠ•ç¨¿ç¢ºèª",
  "contents": {
    "type": "bubble",
    "body": {
      "type": "box",
      "layout": "vertical",
      "contents": [
        {
          "type": "button",
          "action": {
            "type": "uri",
            "label": "æŠ•ç¨¿ã™ã‚‹",
            "uri": "https://your-n8n.com/webhook/post?id=1"
          }
        }
      ]
    }
  }
}
```

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### LINEãŒåå¿œã—ãªã„

1. n8nã®Webhook URLãŒæ­£ã—ã„ã‹ç¢ºèª
2. LINE Botè¨­å®šã§WebhookãŒæœ‰åŠ¹ã‹ç¢ºèª
3. n8nã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œãƒ­ã‚°ã‚’ç¢ºèª

### æŠ•ç¨¿ãŒç”Ÿæˆã•ã‚Œãªã„

1. Pythonã®ãƒ‘ã‚¹ãŒæ­£ã—ã„ã‹ç¢ºèª
2. n8nã‹ã‚‰PythonãŒå®Ÿè¡Œã§ãã‚‹ã‹ç¢ºèª
3. ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèªï¼ˆn8nã®å®Ÿè¡Œå±¥æ­´ï¼‰

### Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãŒæ›´æ–°ã•ã‚Œãªã„

1. Google Drive APIèªè¨¼ã‚’ç¢ºèª
2. ã‚·ãƒ¼ãƒˆIDãŒæ­£ã—ã„ã‹ç¢ºèª
3. æ¨©é™è¨­å®šã‚’ç¢ºèªï¼ˆç·¨é›†å¯èƒ½ã‹ï¼‰

## ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… LINE Botã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
2. âœ… n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹ç¯‰
3. âœ… Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆä½œæˆ
4. âœ… ã‚¹ãƒãƒ›ã§ã‚³ãƒãƒ³ãƒ‰é€ä¿¡ãƒ†ã‚¹ãƒˆ
5. âœ… è‡ªå‹•æŠ•ç¨¿ãƒ†ã‚¹ãƒˆ

è©³ç´°ãªn8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šã¯æ¬¡ã«ä½œæˆã—ã¾ã™ã€‚

---

**ã‚¹ãƒãƒ›ã ã‘ã§å®Œçµï¼é€šå‹¤ä¸­ã§ã‚‚ãƒ›ã‚²ãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å›ã›ã€‚**
